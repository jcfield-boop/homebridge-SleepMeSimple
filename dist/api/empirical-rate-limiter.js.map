{"version":3,"file":"empirical-rate-limiter.js","sourceRoot":"","sources":["../../src/api/empirical-rate-limiter.ts"],"names":[],"mappings":"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"}