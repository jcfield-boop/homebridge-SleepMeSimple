{
  "pluginAlias": "SleepMeSimple",
  "pluginType": "platform",
  "singular": true,
  "customUiPath": "./customui",
  "footerDisplay": "For more information, see the <a href=\"https://github.com/jcfield-boop/homebridge-sleepme-simple#readme\" target=\"_blank\">README</a>.",
  "customUiPath": "./customui",
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "title": "Platform Name",
        "type": "string",
        "default": "SleepMe Simple",
        "required": true
      },
      "apiToken": {
        "title": "API Token",
        "type": "string",
        "format": "password",
        "description": "Your SleepMe API token (obtain from your account at sleep.me)",
        "required": true
      },
      "unit": {
        "title": "Temperature Unit",
        "type": "string",
        "default": "C",
        "enum": ["C", "F"],
        "enumNames": ["Celsius (°C)", "Fahrenheit (°F)"],
        "description": "Select preferred temperature unit",
        "required": true
      },
      "pollingInterval": {
        "title": "Polling Interval",
        "type": "string",
        "default": "90",
        "pattern": "^([6-9][0-9]|[1-9][0-9]{2}|300)$",
        "description": "How frequently to check device status (in seconds, 60-300)"
      },
      "enableSchedules": {
        "title": "Enable Schedules",
        "type": "boolean",
        "default": false,
        "description": "Enable temperature scheduling features"
      },
      "schedulesSection": {
        "title": "Temperature Schedules",
        "type": "object",
        "expandable": true,
        "expanded": true,
        "condition": {
          "functionBody": "return model.enableSchedules === true;"
        },
        "properties": {
          "schedules": {
            "type": "array",
            "title": "Schedule List",
            "description": "Configure scheduled temperature changes. Select from pre-defined templates or customize your own.",
            "items": {
              "type": "object",
              "properties": {
                "type": {
                  "title": "Schedule Type",
                  "type": "string",
                  "default": "Everyday",
                  "enum": ["Everyday", "Weekdays", "Weekend", "Specific Day", "Warm Hug"],
                  "description": "When this schedule should be active"
                },
                "day": {
                  "title": "Day",
                  "type": "string",
                  "default": "Monday",
                  "enum": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
                  "description": "Day of the week (for Specific Day schedules)",
                  "condition": {
                    "functionBody": "return model.schedulesSection.schedules[arrayIndices[0]].type === 'Specific Day';"
                  }
                },
                "time": {
                  "title": "Time",
                  "type": "string",
                  "format": "time",
                  "default": "21:30",
                  "description": "Time for this scheduled event (HH:MM 24-hour format)"
                },
                "temperature": {
                  "title": "Target Temperature",
                  "type": "number",
                  "description": "Target temperature in your selected unit",
                  "oneOf": [
                    {
                      "title": "Celsius",
                      "type": "number",
                      "default": 21,
                      "minimum": 13,
                      "maximum": 46,
                      "condition": {
                        "functionBody": "return model.unit === 'C';"
                      }
                    },
                    {
                      "title": "Fahrenheit",
                      "type": "number",
                      "default": 70,
                      "minimum": 55,
                      "maximum": 115,
                      "condition": {
                        "functionBody": "return model.unit === 'F';"
                      }
                    }
                  ]
                }
              },
              "required": ["type", "time", "temperature"]
            }
          }
        }
