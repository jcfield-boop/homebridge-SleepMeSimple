<!-- No HTML, head, or body tags -->
<div class="card">
  <div class="card-header">
    <h3>SleepMe Simple UI</h3>
  </div>
  <div class="card-body">
    <p>Hello World! This is a test of the custom UI.</p>
    <div id="status">Checking connection...</div>
  </div>
</div>

<script>
  // Wait for DOM to be ready
  document.addEventListener('DOMContentLoaded', async function() {
    const statusDiv = document.getElementById('status');
    
    try {
      // Check if homebridge API is available
      if (window.homebridge) {
        statusDiv.textContent = 'Connected to Homebridge API';
        
        // Try to get config
        const config = await window.homebridge.getPluginConfig();
        console.log('Plugin config loaded:', config);
        
        // Add config info
        const configInfo = document.createElement('div');
        configInfo.innerHTML = '<p>Configuration loaded successfully!</p>';
        document.querySelector('.card-body').appendChild(configInfo);
      } else {
        statusDiv.textContent = 'Homebridge API not available';
      }
    } catch (error) {
      statusDiv.textContent = 'Error connecting to Homebridge: ' + error.message;
      console.error('Custom UI error:', error);
    }
  });
</script>
