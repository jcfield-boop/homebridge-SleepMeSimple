<script>
  // This script forces the configuration page to open automatically
  // when the plugin is first installed
  (function() {
    // Check if the plugin has been configured before
    const configCache = window.localStorage.getItem('homebridge-sleepme-simple-configured');
    
    if (!configCache) {
      // First time configuration - automatically open settings
      setTimeout(function() {
        // Select this plugin in the sidebar and open settings
        const pluginName = 'homebridge-sleepme-simple';
        const platformName = 'SleepMeSimple';
        
        // Find the sidebar item for this plugin and click it
        const sidebarItems = document.querySelectorAll('.sidebar-item');
        for (const item of sidebarItems) {
          if (item.textContent.includes(platformName)) {
            item.click();
            
            // Open config form
            setTimeout(function() {
              const configButton = document.querySelector('button.btn-config');
              if (configButton) {
                configButton.click();
                
                // Mark as configured
                window.localStorage.setItem('homebridge-sleepme-simple-configured', 'true');
              }
            }, 500);
            
            break;
          }
        }
      }, 1000);
    }
  })();
</script>
